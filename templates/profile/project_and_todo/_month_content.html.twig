<section class="relative bg-stone-50 py-10">
    <div class="w-full max-w-7xl mx-auto px-6 lg:px-8 overflow-x-auto">

        <!-- Month Header -->
        <div class="flex justify-between items-center mb-5">
            <h6 class="text-xl leading-8 font-semibold text-gray-900">
                {{ "now"|date("F") }} {{ year }}
            </h6>
            <div class="flex items-center gap-2 rounded-lg bg-gray-100 p-1">
                <a href="{{ path('app_profile', { 'month': month - 1, 'year': year }) }}" class="rounded-lg py-2 px-4 text-sm font-medium text-gray-500 hover:bg-white hover:text-indigo-600">
                    Forrige Måned
                </a>
                <a href="{{ path('app_profile', { 'month': month + 1, 'year': year }) }}" class="rounded-lg py-2 px-4 text-sm font-medium text-gray-500 hover:bg-white hover:text-indigo-600">
                    Næste Måned
                </a>
            </div>
        </div>

        <!-- Calendar Grid -->
        <div class="grid grid-cols-7 border-t border-gray-200">
            <!-- Headers for Each Day -->
            {% for i in ['Man', 'Tir', 'Ons', 'Tor', 'Fre', 'Lør', 'Søn'] %}
                <div class="p-3.5 text-center text-sm font-medium text-gray-900 bg-gray-100">{{ i }}</div>
            {% endfor %}
        </div>

        <!-- Day Blocks -->
        <div class="grid grid-cols-7 w-full overflow-x-auto">
            {% for day in monthlyData %}
                <div class="min-h-[8rem] p-3.5 border-t border-r border-gray-200 transition-all hover:bg-stone-100">

                    <!-- Date Number -->
                    <p class="text-gray-800 text-sm font-semibold">{{ day.date|date("j") }}</p>

                    <!-- Add TODO -->
                    <turbo-frame id="new_event_{{ day.date|date('Y-m-d') }}">
                        <a href="{{ path('test_week_new', { 'date': day.date|date('Y-m-d') } ) }}" class="text-xs text-indigo-500 hover:underline">
                            + Tilføj TODO
                        </a>
                    </turbo-frame>

                    <!-- Todos -->
                    {% if day.todo is not empty %}
                        <ul class="space-y-2">
                            {% for todo in day.todo %}
                                <li class="bg-white p-2 rounded-md shadow-sm hover:bg-gray-50">
                                    <p class="text-gray-800 text-sm mb-2 break-words">{{ todo.title }}</p>
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-gray-600 text-xs">Ingen TODOs</p>
                    {% endif %}

                    <!-- Timelogs -->
                    {% if day.timelog is not empty %}
                        <ul class="mt-2 text-xs text-gray-500">
                            {% for timelog in day.timelog %}
                                <li class="border-t pt-1">{{ timelog.username }}: {{ timelog.hours }}t {{ timelog.minutes }}m</li>
                            {% endfor %}
                        </ul>
                    {% endif %}

                </div>
            {% endfor %}
        </div>

    </div>
</section>
