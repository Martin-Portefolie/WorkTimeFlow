{# templates/components/_navbar.html.twig #}
{% set company = get_company()|default(null) %}

<header class="sticky top-0 z-50 bg-white/95 backdrop-blur border-b" style="border-color: var(--border)">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between py-3">

            {# Left: Logo + Text #}
            <a href="{{ path('home') }}" class="flex items-center space-x-3">
                {% if company and company.logo %}
                    <img src="{{ asset(company.logo) }}" alt="{{ company.name }}" class="h-10 w-10 rounded-lg object-cover ">
                    <span class="text-xl sm:text-2xl font-bold text-slate-800">{{ company.name }}</span>
                {% else %}
                    <img src="{{ asset('images/logo2.svg') }}" alt="Default Logo" class="h-10 w-10 rounded-lg">
                    <span class="text-xl sm:text-2xl font-bold text-slate-800">WorkTimeFlow</span>
                {% endif %}
            </a>

            {# Right: Profile / Login / Logout #}
            <div class="flex items-center space-x-4">
                {% if app.user %}
                    <a href="{{ path('app_user') }}" class="flex items-center space-x-2 text-slate-700 hover:text-emerald-600 transition">
                        <svg class="h-5 w-5 text-slate-500" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="7" r="4" stroke-width="2"/>
                            <path d="M5.5 21a7.5 7.5 0 0 1 13 0" stroke-width="2"/>
                        </svg>
                        <span>{{ app.user.userIdentifier|default('Profile') }}</span>
                    </a>

                    <a href="{{ path('app_logout') }}" class="flex items-center space-x-2 text-slate-700 hover:text-red-600 transition">
                        <svg class="h-5 w-5 text-slate-500" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>{{ 'navbar.logout'|trans|default('Logout') }}</span>
                    </a>
                {% else %}
                    <a href="{{ path('app_login') }}" class="flex items-center space-x-2 text-slate-700 hover:text-emerald-600 transition">
                        <svg class="h-5 w-5 text-slate-500" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M15 3h4a2 2 0 0 1 2 2v4M10 14l5-5m0 0l-5-5m5 5H3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>{{ 'navbar.login'|trans|default('Login') }}</span>
                    </a>
                {% endif %}
            </div>

        </div>
    </div>
</header>
